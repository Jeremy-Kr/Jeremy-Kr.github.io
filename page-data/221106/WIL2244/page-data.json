{"componentChunkName":"component---src-templates-post-template-tsx","path":"/221106/WIL2244/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>프로젝트의 끝</h2>\n<p>약 4일의 짧은 기간동안 토이 프로젝트가 끝이나고 아쉬웠던점을 정리 해 보고자 한다.</p>\n<h2>1. alert</h2>\n<p>alert는 안이쁘다. 그리고 불편하다. 그래서 바꾸고자 하였다.</p>\n<p>기존 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">editCommentSubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.modal-name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.modal-text'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> _id <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit-comment-button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span>\n  $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'PATCH'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">'/jeongik/patch'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> name<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">_id</span><span class=\"token operator\">:</span> _id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">[</span><span class=\"token string\">'msg'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span><span class=\"token function\">reload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>적당히 얼럿 날려주고 페이지를 리로드 해주었습니다.\najax를 사용하는 의미가 사실 없어집니다. 이쁘게 바꿨습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">editCommentSubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.modal-name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.modal-text'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> _id <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit-comment-button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span>\n  $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'PATCH'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">'/jeongik/patch'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> name<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">_id</span><span class=\"token operator\">:</span> _id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">commentLoading</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>msg<span class=\"token punctuation\">,</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>기존에 만들어둔 메세지를 읽어오는 get요청 함수인 commentLoading를 사용해 페이지를 로딩하는게 아니라 DOM으로 HTML내 요소만 갈아끼워주게 바꾸었습니다.\n얼럿은 부트스트랩에서 고대로 가져와 약간의 수정만 거쳐 작성했습니다.</p>\n<h2>2. 아직 못다한 변경들</h2>\n<h3>1) 반응형 구현</h3>\n<p>부트스트랩으로 반응형을 구현할거면 아예 새로 짜는게 더 빠를것 같다.\n아니면 하나하나 CSS에 미디어쿼리를 적용하는 방법도 있겠다.\n시간이 오래 걸릴 것 같아 일단 미뤄둔다.</p>\n<h3>2) db구조 개선</h3>\n<p>사실 이게 더 효율적인가? 에 대한 고민을 해봐야 할 것 같다.\n각 라우터에 상세페이지에 대한 이름이 연결되어 있으니, url에서 따와 post요청을 날릴 때 벨류값을 엮어주면 되지 않을까 싶다.\n콜렉션을 늘리는게 비효율적인지, 키-벨류 페어를 하나 늘려 로직 한줄 늘어나는게 더 비효율적인지는 비교를 해 봐야 하지 않을까 싶다.\n아무래도 구조를 개선하면,</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> jeongikComment <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span>comments<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> jeongik <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//이후 json으로 파싱 후 클라이언트 전달</span></code></pre></div>\n<p>이 되게 될텐데, db를 한바퀴 더 돌아야되니,,, db의 양이 많아지면 오히러 비효율 적일수도 있겠다는 생각이 든다.</p>\n<h3>3) 반복되는 코드 개선</h3>\n<p>각 html 파트들을 컴포넌트화 시키면 되는데, 사실 리엑트가 아닌 상황에서 ejs등으로 처리하는게 더 효율적일까? 라는 고민이 든다. 공부를 더 해봐야 할 것 같다.</p>\n<h2>3. 사이드 프로젝트</h2>\n<h3>진행사항</h3>\n<p>약 3주전부터 친구와 함께 진행하던 사이드프로젝트를 이런 저런 이유덕에 미뤄두다, 주말에 잠깐 다시 진행을 했다.\n4시간정도 하며\n본인 -> (리엑트) 클라이언트측 로그인 구현\n친구 -> (노드) 서버측 로그인 구현\n을 진행했고, 페어프로그래밍 형태로 진행하였다.\n진행 중 가장 시간을 많이 잡아 먹었던 구문은</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> navigate <span class=\"token operator\">=</span> <span class=\"token function\">useNavigate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>왜 많이 잡아먹었는가? 훅에대한 기본이 없기 때문이였다.\n네비게이트 훅을 사용하기위해 컴포넌트를 리턴하는 함수속 네비게이트를 사용할 함수속에 훅을 정의하였는데 에러가 났다.\n리엑트 사용법이 아직 익숙하지 않아 아주 기초적인 실수를 한 것이다.\n어찌어찌 해결은 하였지만… 찝찝하다.\n지금 진행하고 있는 커리큘럼에서 훅에 관한 강의도 듣게 될텐데, 그때 좀 더 신경써서 들을 수 있도록 노력해야겠다.\n이후 진행할 것</p>\n<ul>\n<li>로그인 클라이언트측 유효성 검사</li>\n<li>로그인 서버측 유효성 검사</li>\n<li>회원가입</li>\n<li>메인 페이지 구축</li>\n</ul>","frontmatter":{"title":"WIL 22-44","summary":"첫번째 프로젝트 발표 후 회고","date":"2022.11.06.","categories":["WIL","프로젝트"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6UlEQVR42q3Ly06DQBgF4Hn/95gb1Bi6EBLbYmJRDDO1A4XCgNSyqT7FMbQLg6ULExZfTv7LId9PDF8hnQzpIo7jmuK4ZpMg9RuHjdmoOuaoB/Nld+u/R3ZaIFN8VJpQZIoh0xw7zZEq+ru70SHaSCjDoYw4031uGUx+j88uRlkvkBYebLNCUQX4ODyfb8mWXX7/IC+FRJSLK6+FC3N4xKZ5QGLneG98JNbDpvER7+8Q5Xy0R0LrYFXJIdunwKKkWJYMy4oPsr+FVl73KgkStC78ViJonX8a75B558LrnMkQ5zSDOLmQE/kBjUGOAti/aHkAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/c0e03cb86a19112d8a97850c64bd919b/9ce37/WIL2244.png","srcSet":"/static/c0e03cb86a19112d8a97850c64bd919b/e1116/WIL2244.png 384w,\n/static/c0e03cb86a19112d8a97850c64bd919b/9b7d7/WIL2244.png 768w,\n/static/c0e03cb86a19112d8a97850c64bd919b/9ce37/WIL2244.png 1536w","sizes":"(min-width: 1536px) 1536px, 100vw"},"sources":[{"srcSet":"/static/c0e03cb86a19112d8a97850c64bd919b/5358b/WIL2244.webp 384w,\n/static/c0e03cb86a19112d8a97850c64bd919b/81e8e/WIL2244.webp 768w,\n/static/c0e03cb86a19112d8a97850c64bd919b/fe26e/WIL2244.webp 1536w","type":"image/webp","sizes":"(min-width: 1536px) 1536px, 100vw"}]},"width":1536,"height":804}},"publicURL":"/static/c0e03cb86a19112d8a97850c64bd919b/WIL2244.png"}}}}]}},"pageContext":{"slug":"/221106/WIL2244/"}},"staticQueryHashes":[],"slicesMap":{}}
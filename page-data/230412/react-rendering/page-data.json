{"componentChunkName":"component---src-templates-post-template-tsx","path":"/230412/react-rendering/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>TL;DR</h2>\n<ul>\n<li>리액트에서 렌더링이란, 컴포넌트가 현재 props와 state의 상태를 기반으로 UI를 어떻게 구성할지 컴포넌트에게 요청하는 것을 말한다.</li>\n<li>렌더링은 두 단계로 나뉜다. 첫번째 단계는 <code class=\"language-text\">render</code>이고, 두번째 단계는 <code class=\"language-text\">commit</code>이다.</li>\n<li>리액트에서 렌더링을 최적화 하기 위해서 여러 방법이 존재한다.</li>\n<li>ContextAPI는 상태관리를 위한 것이 아니다.</li>\n<li>복잡한 상태관리를 위해서는 Redux, MobX, Recoil 등의 라이브러리를 사용하는 것이 좋다.</li>\n</ul>\n<h2>리액트에서의 렌더링</h2>\n<p>리액트에서 렌더링이란, 컴포넌트가 현재 props와 state의 상태를 기반으로 UI를 어떻게 구성할지 컴포넌트에게 요청하는 것을 말한다.</p>\n<h3>렌더링 과정</h3>\n<p>렌더링이 일어나는동안 리액트는 루트 컴포넌트부터 아래쪽으로 훑어가며 업데이트가 필요하다고 플래그가 지정되어있는 컴포넌트를 찾는다. 만약 찾았다면 클래스 컴포넌트의 경우 <code class=\"language-text\">classComponentInstance.render()</code>를 호출하고 함수 컴포넌트의 경우 <code class=\"language-text\">FunctionComponent()</code>를 호출하고 반환된 결과를 가지고 렌더링을 진행한다.</p>\n<p>렌더링의 결과물은 일반적으로 JSX문법으로 구성되어 있으며, 이를 <code class=\"language-text\">React.createElement()</code>를 통해 <code class=\"language-text\">ReactElement</code>로 변환한다. <code class=\"language-text\">createElement</code>는 <code class=\"language-text\">ReactElement</code>를 생성하는 함수이며, <code class=\"language-text\">ReactElement</code>는 리액트가 렌더링을 위해 사용하는 가상돔이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// JSX</span>\n<span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token attr-name\">a</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">42</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">b</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Hello</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">// createElement</span>\n<span class=\"token keyword\">return</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>Hello<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">42</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> children<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ReactElement</span>\n<span class=\"token punctuation\">{</span>\n  $$<span class=\"token keyword\">typeof</span><span class=\"token operator\">:</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span>react<span class=\"token punctuation\">.</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> Hello<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">ref</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> children<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">42</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>전체 컴포넌트에서 <code class=\"language-text\">ReactElement</code>를 생성하고, 가상돔과 비교하여 실제 돔에 반영하는 과정을 거친다. 이 과정을 <code class=\"language-text\">reconciliation</code>이라고 한다.</p>\n<h2>렌더와 커밋</h2>\n<p>리액트에서 렌더링은 두 단계로 나뉜다. 첫번째 단계는 <code class=\"language-text\">render</code>이고, 두번째 단계는 <code class=\"language-text\">commit</code>이다.</p>\n<p><code class=\"language-text\">render</code>는 컴포넌트의 상태가 변경되었을 때, 새로운 가상돔을 생성하는 단계이다. 이 단계에서는 가상돔을 생성하는 것이 전부이며, 실제 돔에 반영되지 않는다.</p>\n<p><code class=\"language-text\">commit</code>은 <code class=\"language-text\">render</code>에서 생성된 가상돔을 실제 돔에 반영하는 단계이다. 이 단계에서는 실제 돔에 반영되는 것이 전부이며, 가상돔은 생성되지 않는다.</p>\n<p><code class=\"language-text\">commit</code>이후 요청된 DOM노드 및 컴포넌트 인스턴스에 대한 참조를 업데이트한다. 그런다음 클래스 컴포넌트의 경우 <code class=\"language-text\">componentDidMount</code>, <code class=\"language-text\">componentDidUpdate</code>를 호출하고, 함수 컴포넌트의 경우 <code class=\"language-text\">useLayoutEffect</code>를 호출한다.</p>\n<p>리액트는 timeout을 세팅한 이후 만료되면 <code class=\"language-text\">useEffect</code>를 호출한다. 이는 <code class=\"language-text\">useEffect</code>가 렌더링이 완료된 이후에 호출되어야 한다는 것을 의미한다.</p>\n<p>React18버전의 <code class=\"language-text\">Concurrent Mode</code>에서는 브라우저가 이벤트를 처리할 수 있도록 렌더링 단계에서 일부 작업을 중단할 수 있다. 리액트는 렌더링을 중단하고, 브라우저가 이벤트를 처리할 수 있도록 브라우저에게 제어권을 넘긴다. 이후 브라우저가 이벤트를 처리할 수 있을 때, 리액트는 렌더링을 다시 시작한다.</p>\n<h2>최초 렌더링 이후</h2>\n<p>최초 렌더링 이후에 리액트가 리렌더링을 하는 대표적인 경우는 다음과 같다.</p>\n<h3>Class Component</h3>\n<ul>\n<li><code class=\"language-text\">setState</code>가 호출되었을 때</li>\n<li><code class=\"language-text\">forceUpdate</code>가 호출되었을 때</li>\n</ul>\n<h3>Function Component</h3>\n<ul>\n<li><code class=\"language-text\">useState</code>의 setter가 호출되었을 때</li>\n<li><code class=\"language-text\">useReducer</code>의 dispatch가 호출되었을 때</li>\n</ul>\n<h3>일반적인 경우</h3>\n<ul>\n<li>부모 컴포넌트가 리렌더링 되었을 때</li>\n<li>Context의 값이 변경되었을 때</li>\n</ul>\n<p>일번적으로 <code class=\"language-text\">props</code>가 변경되었는지 신경쓰지 않고, 부모 컴포넌트가 리렌더링 되었을 때 자식 컴포넌트도 리렌더링 되도록 구현되어있다.</p>\n<p>하지만, 렌더링이 일어나더라도 <code class=\"language-text\">reconciliation</code> 과정에서 실제 돔에 반영되지 않을 수 있다.</p>\n<p>Context와 관련된 이야기는 아래에서 따로 다루겠다.</p>\n<h2>fiber</h2>\n<p>리액트는 어플리케이션에 존재하는 현재 컴포넌트 인스턴스를 추적하는 데이터 구조를 가지고 있는데, 이 데이터의 핵심적인 부분은 <code class=\"language-text\">fiber</code>라는 객체이다.</p>\n<p><code class=\"language-text\">fiber</code>가 가지고 있는 정보는 다음과 같다.</p>\n<ul>\n<li>컴포넌트 타입의 정보</li>\n<li>컴포넌트의 props, state</li>\n<li>컴포넌트의 부모, 자식, 형제에 대한 참조</li>\n<li>렌더링 추적을 위한 메타데이터</li>\n</ul>\n<h2>렌더링 최적화</h2>\n<h3>shouldComponentUpdate</h3>\n<p><code class=\"language-text\">shouldComponentUpdate</code>는 컴포넌트가 리렌더링 되기 전에 호출되는 함수이다. 이 함수는 <code class=\"language-text\">true</code>를 반환하면 리렌더링을 진행하고, <code class=\"language-text\">false</code>를 반환하면 리렌더링을 중단한다.</p>\n<p><code class=\"language-text\">shouldComponentUpdate</code>는 <code class=\"language-text\">PureComponent</code>를 사용하면 자동으로 구현되어있다. <code class=\"language-text\">PureComponent</code>는 <code class=\"language-text\">shouldComponentUpdate</code>를 구현한 컴포넌트이다.</p>\n<p><code class=\"language-text\">shouldComponentUpdate</code>는 <code class=\"language-text\">props</code>와 <code class=\"language-text\">state</code>를 비교하여 리렌더링 여부를 결정한다. <code class=\"language-text\">props</code>와 <code class=\"language-text\">state</code>가 변경되지 않았다면 리렌더링을 진행하지 않는다.</p>\n<p><code class=\"language-text\">shouldComponentUpdate</code>는 <code class=\"language-text\">props</code>와 <code class=\"language-text\">state</code>를 얕은 비교를 통해 비교한다. 즉, <code class=\"language-text\">props</code>나 <code class=\"language-text\">state</code>가 객체나 배열이라면, 객체나 배열의 참조값만 비교한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Hello</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">shouldComponentUpdate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nextProps<span class=\"token punctuation\">,</span> nextState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>a <span class=\"token operator\">!==</span> nextProps<span class=\"token punctuation\">.</span>a <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>b <span class=\"token operator\">!==</span> nextProps<span class=\"token punctuation\">.</span>b\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>React.memo</h3>\n<p><code class=\"language-text\">React.memo</code>는 함수형 컴포넌트에 <code class=\"language-text\">shouldComponentUpdate</code>를 적용할 수 있게 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> Hello <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">memo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>React.useMemo</h3>\n<p><code class=\"language-text\">React.useMemo</code>는 함수형 컴포넌트에서 <code class=\"language-text\">shouldComponentUpdate</code>를 적용할 수 있게 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Hello</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>React.useCallback</h3>\n<p><code class=\"language-text\">React.useCallback</code>은 함수를 캐싱할 수 있게 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Hello</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> onClick <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>React.useLayoutEffect</h3>\n<p><code class=\"language-text\">React.useLayoutEffect</code>는 <code class=\"language-text\">React.useEffect</code>와 동일하게 작동하지만, 렌더링이 완료된 후에 실행되는 <code class=\"language-text\">React.useEffect</code>와 달리 렌더링이 완료되기 전에 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Hello</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">useLayoutEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Context</h2>\n<p>React의 ContextAPI는 <code class=\"language-text\">Provider</code>내부에 있는 컴포넌트들에게 <code class=\"language-text\">value</code>를 전달해주는 기능을 제공한다.</p>\n<p><code class=\"language-text\">Provider</code>의 <code class=\"language-text\">value</code>가 변경되면, <code class=\"language-text\">Provider</code>의 모든 자식 컴포넌트들은 리렌더링 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> ThemeContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> setTheme<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeContext.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Toolbar</span></span>\n        <span class=\"token attr-name\">changeTheme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTheme</span><span class=\"token punctuation\">(</span>theme <span class=\"token operator\">===</span> <span class=\"token string\">'light'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'dark'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeContext.Provider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Toolbar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> changeTheme <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemedButton</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>changeTheme<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">change theme</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ThemedButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>ThemeContext<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Context와 상태관리 라이브러리</h2>\n<p>Context의 <code class=\"language-text\">value</code>가 변경되면, <code class=\"language-text\">Provider</code>의 모든 자식 컴포넌트들은 리렌더링 된다. 이는 불필요한 리렌더링을 발생시킬 수 있다. 이를 해결하기 위해 상태관리 라이브러리를 사용할 수 있다.</p>\n<h3>ContextAPI만으로 충분한 경우</h3>\n<ul>\n<li>Context의 <code class=\"language-text\">value</code>가 변경되지 않는 경우</li>\n<li>Context의 <code class=\"language-text\">value</code>가 자주 변경되지 않는 경우</li>\n<li>추가적인 라이브러리를 사용하고 싶지 않은 경우</li>\n</ul>\n<h3>상태관리 라이브러리가 필요한 경우</h3>\n<ul>\n<li>어플리케이션의 상태가 많은 경우</li>\n<li>상태가 시간에 따라 변화하는 경우</li>\n<li>상태 관리 로직이 복잡한 경우</li>\n<li>어러 개발자가 동시에 작업하는 경우</li>\n</ul>\n<h2>참조</h2>\n<ul>\n<li><a href=\"https://yceffort.kr/2022/04/deep-dive-in-react-rendering\" target=\"_blank\" rel=\"nofollow\">리액트의 렌더링은 어떻게 일어나는가?\n</a></li>\n</ul>","frontmatter":{"title":"리액트에서의 렌더링","summary":"리액트의 렌더링 과정","date":"2023.04.12.","categories":["react","rendering"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVR42q3M207CQBQF0Pl7X4wKilhTidCIxksNCXFAaUdoC60XorQiIp2p5UO26SBNbXjsw8rZ52T2EP15giKRthugSKTrfOC/KTp2IFErSPOmPXmb7xJz8Iksoz+FNQrheALDpwiOy2G7HNZogaEnZHb+9nw3QSz2hbWBOYNrc5w1KCr7TZR26jiuXkFVbuStvKdBVXR5a2od2I9zZPsJ4hnfWHN7c4z7P7ioUZwe6lB2z6GWL1E7uJa30tYJtKMWKtsN1Ku3eGFcdrJ/kPF9iKzX7gK+GcNnSwRsiXcjSudbT8Bn8So/COS7CeJTgbzJHU/5NJmhnKvM07ypS2btCEUivBWjSL/TqpgH2dV35AAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/e0fec7f66b3aca1262941524142f4812/9b7d7/react-rendering.png","srcSet":"/static/e0fec7f66b3aca1262941524142f4812/5d231/react-rendering.png 192w,\n/static/e0fec7f66b3aca1262941524142f4812/e1116/react-rendering.png 384w,\n/static/e0fec7f66b3aca1262941524142f4812/9b7d7/react-rendering.png 768w","sizes":"(min-width: 768px) 768px, 100vw"},"sources":[{"srcSet":"/static/e0fec7f66b3aca1262941524142f4812/a3a09/react-rendering.webp 192w,\n/static/e0fec7f66b3aca1262941524142f4812/5358b/react-rendering.webp 384w,\n/static/e0fec7f66b3aca1262941524142f4812/81e8e/react-rendering.webp 768w","type":"image/webp","sizes":"(min-width: 768px) 768px, 100vw"}]},"width":768,"height":402}},"publicURL":"/static/e0fec7f66b3aca1262941524142f4812/react-rendering.png"}}}}]}},"pageContext":{"slug":"/230412/react-rendering/"}},"staticQueryHashes":[],"slicesMap":{}}